<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 29 A detailed study of bike sharing demand | A Machine Learning Compilation</title>
<meta name="author" content="Several authors. Compiled by Alfonso R. Reyes">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.2.9000/tabs.js"></script><script src="libs/bs3compat-0.2.2.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">A Machine Learning Compilation</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Preface</a></li>
<li class="book-part">The Basics of Machine Learning</li>
<li><a class="" href="introduction-to-pca.html"><span class="header-section-number">2</span> Introduction to PCA</a></li>
<li><a class="" href="comparison-of-two-pca-packages.html"><span class="header-section-number">3</span> Comparison of two PCA packages</a></li>
<li><a class="" href="detailed-study-of-principal-component-analysis.html"><span class="header-section-number">4</span> Detailed study of Principal Component Analysis</a></li>
<li><a class="" href="detection-of-diabetes-using-logistic-regression.html"><span class="header-section-number">5</span> Detection of diabetes using Logistic Regression</a></li>
<li><a class="" href="sensitivity-analysis-for-a-neural-network.html"><span class="header-section-number">6</span> Sensitivity analysis for a neural network</a></li>
<li><a class="" href="data-visualization-for-ml-models.html"><span class="header-section-number">7</span> Data Visualization for ML models</a></li>
<li class="book-part">Feature Engineering</li>
<li><a class="" href="ten-methods-to-assess-variable-importance.html"><span class="header-section-number">8</span> Ten methods to assess Variable Importance</a></li>
<li><a class="" href="employee-attrition-using-feature-importance.html"><span class="header-section-number">9</span> Employee Attrition using Feature Importance</a></li>
<li class="book-part">Classification</li>
<li><a class="" href="a-gentle-introduction-to-support-vector-machines.html"><span class="header-section-number">10</span> A gentle introduction to Support Vector Machines</a></li>
<li><a class="" href="broad-view-of-svm.html"><span class="header-section-number">11</span> Broad view of SVM</a></li>
<li><a class="" href="feature-selection-to-enhance-cancer-detection.html"><span class="header-section-number">12</span> Feature Selection to enhance cancer detection</a></li>
<li><a class="" href="dealing-with-unbalanced-data.html"><span class="header-section-number">13</span> Dealing with unbalanced data</a></li>
<li><a class="" href="imputting-missing-values-with-random-forest.html"><span class="header-section-number">14</span> Imputting missing values with Random Forest</a></li>
<li><a class="" href="tuning-of-support-vector-machine-prediction.html"><span class="header-section-number">15</span> Tuning of Support Vector Machine prediction</a></li>
<li class="book-part">Classification</li>
<li><a class="" href="introduction-to-algorithms-for-classification.html"><span class="header-section-number">16</span> Introduction to algorithms for Classification</a></li>
<li><a class="" href="comparing-classification-algorithms.html"><span class="header-section-number">17</span> Comparing Classification algorithms</a></li>
<li><a class="" href="who-buys-social-network-ads.html"><span class="header-section-number">18</span> Who buys Social Network ads</a></li>
<li><a class="" href="predicting-ozone-levels.html"><span class="header-section-number">19</span> Predicting Ozone levels</a></li>
<li><a class="" href="building-a-naive-bayes-classifier.html"><span class="header-section-number">20</span> Building a Naive Bayes Classifier</a></li>
<li><a class="" href="linear-and-non-linear-algorithms-for-classification.html"><span class="header-section-number">21</span> Linear and Non-Linear Algorithms for Classification</a></li>
<li><a class="" href="detect-mines-vs-rocks-with-random-forest.html"><span class="header-section-number">22</span> Detect mines vs rocks with Random Forest</a></li>
<li><a class="" href="predicting-the-type-of-glass.html"><span class="header-section-number">23</span> Predicting the type of glass</a></li>
<li><a class="" href="naive-bayes-for-sms-spam.html"><span class="header-section-number">24</span> Naive Bayes for SMS spam</a></li>
<li><a class="" href="vehicles-classiification-with-decision-trees.html"><span class="header-section-number">25</span> Vehicles classiification with Decision Trees</a></li>
<li><a class="" href="applying-naive-bayes-on-the-titanic-case.html"><span class="header-section-number">26</span> Applying Naive-Bayes on the Titanic case</a></li>
<li><a class="" href="classification-on-bad-loans.html"><span class="header-section-number">27</span> Classification on bad loans</a></li>
<li><a class="" href="predicting-flu-outcome-comparing-eight-classification-algorithms.html"><span class="header-section-number">28</span> Predicting Flu outcome comparing eight classification algorithms</a></li>
<li><a class="active" href="a-detailed-study-of-bike-sharing-demand.html"><span class="header-section-number">29</span> A detailed study of bike sharing demand</a></li>
<li><a class="" href="prediction-of-arrhythmia-with-deep-neural-nets.html"><span class="header-section-number">30</span> Prediction of arrhythmia with deep neural nets</a></li>
<li class="book-part">Linear Regression</li>
<li><a class="" href="linear-regression-with-islr.html"><span class="header-section-number">31</span> Linear Regression with ISLR</a></li>
<li><a class="" href="evaluation-of-three-linear-regression-models.html"><span class="header-section-number">32</span> Evaluation of three linear regression models</a></li>
<li><a class="" href="comparison-of-six-linear-regression-algorithms.html"><span class="header-section-number">33</span> Comparison of six Linear Regression algorithms</a></li>
<li><a class="" href="comparing-regression-models.html"><span class="header-section-number">34</span> Comparing regression models</a></li>
<li><a class="" href="finding-the-factors-of-happiness.html"><span class="header-section-number">35</span> Finding the factors of happiness</a></li>
<li><a class="" href="regression-with-a-neural-network.html"><span class="header-section-number">36</span> Regression with a neural network</a></li>
<li><a class="" href="comparing-multiple-regression-vs-a-neural-network.html"><span class="header-section-number">37</span> Comparing Multiple Regression vs a Neural Network</a></li>
<li><a class="" href="temperature-modeling-using-nested-dataframes.html"><span class="header-section-number">38</span> Temperature modeling using nested dataframes</a></li>
<li class="book-part">Neural Networks</li>
<li><a class="" href="credit-scoring-with-neuralnet.html"><span class="header-section-number">39</span> Credit Scoring with neuralnet</a></li>
<li><a class="" href="wine-classification-with-neuralnet.html"><span class="header-section-number">40</span> Wine classification with neuralnet</a></li>
<li><a class="" href="predicting-the-rating-of-cereals.html"><span class="header-section-number">41</span> Predicting the rating of cereals</a></li>
<li><a class="" href="fitting-a-linear-model-with-neural-networks.html"><span class="header-section-number">42</span> Fitting a linear model with neural networks</a></li>
<li><a class="" href="visualization-of-neural-networks.html"><span class="header-section-number">43</span> Visualization of neural networks</a></li>
<li><a class="" href="build-a-fully-connected-r-neural-network-from-scratch.html"><span class="header-section-number">44</span> Build a fully connected R neural network from scratch</a></li>
<li><a class="" href="tuning-hyperparameters-in-a-neural-network.html"><span class="header-section-number">45</span> Tuning Hyperparameters in a Neural Network</a></li>
<li><a class="" href="deep-learning-tips-for-classification-and-regression.html"><span class="header-section-number">46</span> Deep Learning tips for Classification and Regression</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="what-is-dot-hat-in-a-regression-output.html"><span class="header-section-number">A</span> What is dot hat in a regression output</a></li>
<li><a class="" href="q-q-normal-to-compare-data-to-distributions.html"><span class="header-section-number">B</span> Q-Q normal to compare data to distributions</a></li>
<li><a class="" href="qq-and-pp-plots.html"><span class="header-section-number">C</span> QQ and PP Plots</a></li>
<li><a class="" href="visualizing-residuals.html"><span class="header-section-number">D</span> Visualizing residuals</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/f0nzie/machine_learning_compilation">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="a-detailed-study-of-bike-sharing-demand" class="section level1">
<h1>
<span class="header-section-number">29</span> A detailed study of bike sharing demand<a class="anchor" aria-label="anchor" href="#a-detailed-study-of-bike-sharing-demand"><i class="fas fa-link"></i></a>
</h1>
<ul>
<li>Datasets: <code>bike-sharing-demand</code>
</li>
<li>Algorithms:
<ul>
<li>Decision Trees</li>
<li>Conditional Inference Tree</li>
<li>Random Forest</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb657"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#loading the required libraries</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bethatkinson/rpart">rpart</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rattle.togaware.com/">rattle</a></span><span class="op">)</span>
<span class="co">#&gt; Rattle: A free graphical interface for data science with R.</span>
<span class="co">#&gt; Version 5.3.0 Copyright (c) 2006-2018 Togaware Pty Ltd.</span>
<span class="co">#&gt; Type 'rattle()' to shake, rattle, and roll your data.</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.milbo.org/rpart-plot">rpart.plot</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.stat.berkeley.edu/~breiman/RandomForests/">randomForest</a></span><span class="op">)</span>
<span class="co">#&gt; randomForest 4.6-14</span>
<span class="co">#&gt; Type rfNews() to see new features/changes/bug fixes.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'randomForest'</span>
<span class="co">#&gt; The following object is masked from 'package:rattle':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     importance</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/taiyun/corrplot">corrplot</a></span><span class="op">)</span>
<span class="co">#&gt; corrplot 0.84 loaded</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following object is masked from 'package:randomForest':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     combine</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/collectivemedia/tictoc">tictoc</a></span><span class="op">)</span></code></pre></div>
<p>Source: <a href="https://www.analyticsvidhya.com/blog/2015/06/solution-kaggle-competition-bike-sharing-demand/" class="uri">https://www.analyticsvidhya.com/blog/2015/06/solution-kaggle-competition-bike-sharing-demand/</a></p>
<div id="hypothesis-generation" class="section level2">
<h2>
<span class="header-section-number">29.1</span> Hypothesis Generation<a class="anchor" aria-label="anchor" href="#hypothesis-generation"><i class="fas fa-link"></i></a>
</h2>
<p>Before exploring the data to understand the relationship between variables, I’d recommend you to focus on hypothesis generation first. Now, this might sound counter-intuitive for solving a data science problem, but if there is one thing I have learnt over years, it is this. Before exploring data, you should spend some time thinking about the business problem, gaining the domain knowledge and may be gaining first hand experience of the problem (only if I could travel to North America!)</p>
<p>How does it help? This practice usually helps you form better features later on, which are not biased by the data available in the dataset. At this stage, you are expected to posses structured thinking i.e. a thinking process which takes into consideration all the possible aspects of a particular problem.</p>
<p>Here are some of the hypothesis which I thought could influence the demand of bikes:</p>
<ul>
<li><p><strong>Hourly trend</strong>: There must be high demand during office timings. Early morning and late evening can have different trend (cyclist) and low demand during 10:00 pm to 4:00 am.</p></li>
<li><p><strong>Daily Trend</strong>: Registered users demand more bike on weekdays as compared to weekend or holiday.</p></li>
<li><p><strong>Rain</strong>: The demand of bikes will be lower on a rainy day as compared to a sunny day. Similarly, higher humidity will cause to lower the demand and vice versa.</p></li>
<li><p><strong>Temperature</strong>: Would high or low temperature encourage or disencourage bike riding?</p></li>
<li><p><strong>Pollution</strong>: If the pollution level in a city starts soaring, people may start using Bike (it may be influenced by government / company policies or increased awareness).</p></li>
<li><p><strong>Time</strong>: Total demand should have higher contribution of registered user as compared to casual because registered user base would increase over time.</p></li>
<li><p><strong>Traffic</strong>: It can be positively correlated with Bike demand. Higher traffic may force people to use bike as compared to other road transport medium like car, taxi etc</p></li>
</ul>
</div>
<div id="understanding-the-data-set" class="section level2">
<h2>
<span class="header-section-number">29.2</span> Understanding the Data Set<a class="anchor" aria-label="anchor" href="#understanding-the-data-set"><i class="fas fa-link"></i></a>
</h2>
<p>The dataset shows hourly rental data for two years (2011 and 2012). The training data set is for the <strong>first 19 days of each month</strong>. The test dataset is from <strong>20th day to month’s end</strong>. We are required to predict the total count of bikes rented during each hour covered by the test set.</p>
<p>In the training data set, they have separately given bike demand by registered, casual users and sum of both is given as count.</p>
<p>Training data set has 12 variables (see below) and Test has 9 (excluding registered, casual and count).</p>
<div id="independent-variables" class="section level3">
<h3>
<span class="header-section-number">29.2.1</span> Independent variables<a class="anchor" aria-label="anchor" href="#independent-variables"><i class="fas fa-link"></i></a>
</h3>
<pre><code>datetime:   date and hour in "mm/dd/yyyy hh:mm" format
season:     Four categories-&gt; 1 = spring, 2 = summer, 3 = fall, 4 = winter
holiday:    whether the day is a holiday or not (1/0)
workingday: whether the day is neither a weekend nor holiday (1/0)
weather:    Four Categories of weather
            1-&gt; Clear, Few clouds, Partly cloudy, Partly cloudy
            2-&gt; Mist + Cloudy, Mist + Broken clouds, Mist + Few clouds, Mist
            3-&gt; Light Snow and Rain + Thunderstorm + Scattered clouds, Light Rain + Scattered clouds
            4-&gt; Heavy Rain + Ice Pallets + Thunderstorm + Mist, Snow + Fog
temp:       hourly temperature in Celsius
atemp:      "feels like" temperature in Celsius
humidity:   relative humidity
windspeed:  wind speed</code></pre>
</div>
<div id="dependent-variables" class="section level3">
<h3>
<span class="header-section-number">29.2.2</span> Dependent variables<a class="anchor" aria-label="anchor" href="#dependent-variables"><i class="fas fa-link"></i></a>
</h3>
<pre><code>registered: number of registered user
casual:     number of non-registered user
count:      number of total rentals (registered + casual)</code></pre>
</div>
</div>
<div id="importing-the-dataset-and-data-exploration" class="section level2">
<h2>
<span class="header-section-number">29.3</span> Importing the dataset and Data Exploration<a class="anchor" aria-label="anchor" href="#importing-the-dataset-and-data-exploration"><i class="fas fa-link"></i></a>
</h2>
<p>For this solution, I have used R (R Studio 0.99.442) in Windows Environment.</p>
<p>Below are the steps to import and perform data exploration. If you are new to this concept, you can refer this guide on Data Exploration in R</p>
<ol style="list-style-type: decimal">
<li>Import Train and Test Data Set</li>
</ol>
<div class="sourceCode" id="cb660"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># https://www.kaggle.com/c/bike-sharing-demand/data</span>
<span class="va">train</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">data_raw_dir</span>, <span class="st">"bike_train.csv"</span><span class="op">)</span><span class="op">)</span>
<span class="va">test</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">data_raw_dir</span>, <span class="st">"bike_test.csv"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb661"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">train</span><span class="op">)</span>
<span class="co">#&gt; Rows: 10,886</span>
<span class="co">#&gt; Columns: 12</span>
<span class="co">#&gt; $ datetime   &lt;fct&gt; 2011-01-01 00:00:00, 2011-01-01 01:00:00, 2011-01-01 02:00…</span>
<span class="co">#&gt; $ season     &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ holiday    &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ workingday &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ weather    &lt;int&gt; 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3…</span>
<span class="co">#&gt; $ temp       &lt;dbl&gt; 9.84, 9.02, 9.02, 9.84, 9.84, 9.84, 9.02, 8.20, 9.84, 13.1…</span>
<span class="co">#&gt; $ atemp      &lt;dbl&gt; 14.4, 13.6, 13.6, 14.4, 14.4, 12.9, 13.6, 12.9, 14.4, 17.4…</span>
<span class="co">#&gt; $ humidity   &lt;int&gt; 81, 80, 80, 75, 75, 75, 80, 86, 75, 76, 76, 81, 77, 72, 72…</span>
<span class="co">#&gt; $ windspeed  &lt;dbl&gt; 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 17, 19, 19, 20, 19, 20, 20, …</span>
<span class="co">#&gt; $ casual     &lt;int&gt; 3, 8, 5, 3, 0, 0, 2, 1, 1, 8, 12, 26, 29, 47, 35, 40, 41, …</span>
<span class="co">#&gt; $ registered &lt;int&gt; 13, 32, 27, 10, 1, 1, 0, 2, 7, 6, 24, 30, 55, 47, 71, 70, …</span>
<span class="co">#&gt; $ count      &lt;int&gt; 16, 40, 32, 13, 1, 1, 2, 3, 8, 14, 36, 56, 84, 94, 106, 11…</span>
<span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span>
<span class="co">#&gt; Rows: 6,493</span>
<span class="co">#&gt; Columns: 9</span>
<span class="co">#&gt; $ datetime   &lt;fct&gt; 2011-01-20 00:00:00, 2011-01-20 01:00:00, 2011-01-20 02:00…</span>
<span class="co">#&gt; $ season     &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ holiday    &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span>
<span class="co">#&gt; $ workingday &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</span>
<span class="co">#&gt; $ weather    &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1…</span>
<span class="co">#&gt; $ temp       &lt;dbl&gt; 10.66, 10.66, 10.66, 10.66, 10.66, 9.84, 9.02, 9.02, 9.02,…</span>
<span class="co">#&gt; $ atemp      &lt;dbl&gt; 11.4, 13.6, 13.6, 12.9, 12.9, 11.4, 10.6, 10.6, 10.6, 11.4…</span>
<span class="co">#&gt; $ humidity   &lt;int&gt; 56, 56, 56, 56, 56, 60, 60, 55, 55, 52, 48, 45, 42, 45, 45…</span>
<span class="co">#&gt; $ windspeed  &lt;dbl&gt; 26, 0, 0, 11, 11, 15, 15, 15, 19, 15, 20, 11, 0, 7, 9, 13,…</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Combine both Train and Test Data set (to understand the distribution of independent variable together).</li>
</ol>
<div class="sourceCode" id="cb662"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># add variables to test dataset before merging</span>
<span class="va">test</span><span class="op">$</span><span class="va">registered</span><span class="op">=</span><span class="fl">0</span>
<span class="va">test</span><span class="op">$</span><span class="va">casual</span><span class="op">=</span><span class="fl">0</span>
<span class="va">test</span><span class="op">$</span><span class="va">count</span><span class="op">=</span><span class="fl">0</span>

<span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mice/man/cbind.html">rbind</a></span><span class="op">(</span><span class="va">train</span>,<span class="va">test</span><span class="op">)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Variable Type Identification</li>
</ol>
<div class="sourceCode" id="cb663"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    17379 obs. of  12 variables:</span>
<span class="co">#&gt;  $ datetime  : Factor w/ 17379 levels "2011-01-01 00:00:00",..: 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ season    : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ holiday   : int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ workingday: int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ weather   : int  1 1 1 1 1 2 1 1 1 1 ...</span>
<span class="co">#&gt;  $ temp      : num  9.84 9.02 9.02 9.84 9.84 ...</span>
<span class="co">#&gt;  $ atemp     : num  14.4 13.6 13.6 14.4 14.4 ...</span>
<span class="co">#&gt;  $ humidity  : int  81 80 80 75 75 75 80 86 75 76 ...</span>
<span class="co">#&gt;  $ windspeed : num  0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ casual    : num  3 8 5 3 0 0 2 1 1 8 ...</span>
<span class="co">#&gt;  $ registered: num  13 32 27 10 1 1 0 2 7 6 ...</span>
<span class="co">#&gt;  $ count     : num  16 40 32 13 1 1 2 3 8 14 ...</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Find missing values in the dataset if any</li>
</ol>
<div class="sourceCode" id="cb664"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  FALSE </span>
<span class="co">#&gt; 208548</span></code></pre></div>
<blockquote>
<p>No NAs in the dataset.</p>
</blockquote>
<ol start="5" style="list-style-type: decimal">
<li>Understand the distribution of numerical variables and generate a frequency table for numeric variables. Analyze the distribution.</li>
</ol>
<div id="histograms" class="section level3">
<h3>
<span class="header-section-number">29.3.1</span> histograms<a class="anchor" aria-label="anchor" href="#histograms"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb665"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># histograms each attribute</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span>, main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-7-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="density-plots" class="section level3">
<h3>
<span class="header-section-number">29.3.2</span> density plots<a class="anchor" aria-label="anchor" href="#density-plots"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb666"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># density plot for each attribute</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span><span class="op">)</span>, main<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-8-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="boxplots" class="section level3">
<h3>
<span class="header-section-number">29.3.3</span> boxplots<a class="anchor" aria-label="anchor" href="#boxplots"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb667"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># boxplots for each attribute</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">2</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>,<span class="va">i</span><span class="op">]</span>, main<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-9-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="unique-values-of-discrete-variables" class="section level3">
<h3>
<span class="header-section-number">29.3.4</span> Unique values of discrete variables<a class="anchor" aria-label="anchor" href="#unique-values-of-discrete-variables"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb668"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># the discrete variables in this case are integers</span>
<span class="va">ints</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">is.integer</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">ints</span><span class="op">]</span>
<span class="co">#&gt; [1] "season"     "holiday"    "workingday" "weather"    "humidity"</span></code></pre></div>
<blockquote>
<p>Humidity should not be an integer or discrete variable; it is a continuous or numeric variable.</p>
</blockquote>
<div class="sourceCode" id="cb669"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># convert humidity to numeric</span>
<span class="va">data</span><span class="op">$</span><span class="va">humidity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">humidity</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb670"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># list unique values of integer variables</span>
<span class="va">ints</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">is.integer</span><span class="op">)</span><span class="op">)</span>
<span class="va">int_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">[</span><span class="va">ints</span><span class="op">]</span>

<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">sapply</a></span><span class="op">(</span><span class="va">int_vars</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/duplicated.html">unique</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="va">x</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; $season.season</span>
<span class="co">#&gt; [1] 1 2 3 4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $holiday.holiday</span>
<span class="co">#&gt; [1] 0 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $workingday.workingday</span>
<span class="co">#&gt; [1] 0 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $weather.weather</span>
<span class="co">#&gt; [1] 1 2 3 4</span></code></pre></div>
</div>
<div id="inferences" class="section level3">
<h3>
<span class="header-section-number">29.3.5</span> Inferences<a class="anchor" aria-label="anchor" href="#inferences"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>The variables <code>season</code>, <code>holiday</code>, <code>workingday</code> and <code>weather</code> are discrete (integer).</li>
<li>Activity is even through all seasons.</li>
<li>Most of the activitity happens during non-holidays.</li>
<li>Activity doubles during the working days.</li>
<li>Activity happens mostly during clear (1) weather.</li>
<li>temp, atemp and humidity are continuous variables (numeric).</li>
</ol>
</div>
</div>
<div id="hypothesis-testing-using-multivariate-analysis" class="section level2">
<h2>
<span class="header-section-number">29.4</span> Hypothesis Testing (using multivariate analysis)<a class="anchor" aria-label="anchor" href="#hypothesis-testing-using-multivariate-analysis"><i class="fas fa-link"></i></a>
</h2>
<p>Till now, we have got a fair understanding of the data set. Now, let’s test the hypothesis which we had generated earlier. Here I have added some additional hypothesis from the dataset. Let’s test them one by one:</p>
<div id="hourly-trend" class="section level3">
<h3>
<span class="header-section-number">29.4.1</span> Hourly trend<a class="anchor" aria-label="anchor" href="#hourly-trend"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p><em>There must be high demand during office timings. Early morning and late evening can have different trend (cyclist) and low demand during 10:00 pm to 4:00 am.</em></p>
</blockquote>
<p>We don’t have the variable ‘hour’ with us. But we can extract it using the datetime column.</p>
<div class="sourceCode" id="cb671"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span>
<span class="co">#&gt; [1] 2011-01-01 00:00:00 2011-01-01 01:00:00 2011-01-01 02:00:00</span>
<span class="co">#&gt; [4] 2011-01-01 03:00:00 2011-01-01 04:00:00 2011-01-01 05:00:00</span>
<span class="co">#&gt; 17379 Levels: 2011-01-01 00:00:00 2011-01-01 01:00:00 ... 2012-12-31 23:00:00</span></code></pre></div>
<div class="sourceCode" id="cb672"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span><span class="op">)</span>
<span class="co">#&gt; [1] "factor"</span></code></pre></div>
<div class="sourceCode" id="cb673"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># show hour and day from the variable datetime</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">12</span>, <span class="fl">13</span><span class="op">)</span><span class="op">)</span>  <span class="co"># hour</span>
<span class="co">#&gt; [1] "00" "01" "02" "03" "04" "05"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>   <span class="co"># day</span>
<span class="co">#&gt; [1] "01" "01" "01" "01" "01" "01"</span></code></pre></div>
<div class="sourceCode" id="cb674"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># extracting hour</span>
<span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">12</span>,<span class="fl">13</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span><span class="op">)</span>
<span class="co">#&gt; [1] 00 01 02 03 04 05</span>
<span class="co">#&gt; 24 Levels: 00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18 19 ... 23</span></code></pre></div>
<div class="sourceCode" id="cb675"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### dividing again in train and test</span>
<span class="co"># the train dataset is for the first 19 days</span>
<span class="va">train</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">20</span>,<span class="op">]</span>

<span class="co"># the test dataset is from day 20 to the end of the month</span>
<span class="va">test</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">19</span>,<span class="op">]</span></code></pre></div>
</div>
<div id="boxplot-count-vs-hour-in-training-set" class="section level3">
<h3>
<span class="header-section-number">29.4.2</span> boxplot count vs hour in training set<a class="anchor" aria-label="anchor" href="#boxplot-count-vs-hour-in-training-set"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb676"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">count</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">hour</span>, xlab<span class="op">=</span><span class="st">"hour"</span>, ylab<span class="op">=</span><span class="st">"count of users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-18-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Rides increase from 6 am to 6pm, during office hours.</p>
</blockquote>
<div class="sourceCode" id="cb677"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># casual users</span>
<span class="va">casual</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">casual</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="op">]</span>
<span class="va">registered</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">registered</span> <span class="op">&gt;</span> <span class="fl">0</span>, <span class="op">]</span>

<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">casual</span><span class="op">)</span>
<span class="co">#&gt; [1] 9900   13</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">registered</span><span class="op">)</span>
<span class="co">#&gt; [1] 10871    13</span></code></pre></div>
</div>
<div id="boxplot-hourly-casual-vs-registered-users-in-the-training-set" class="section level3">
<h3>
<span class="header-section-number">29.4.3</span> Boxplot hourly: casual vs registered users in the training set<a class="anchor" aria-label="anchor" href="#boxplot-hourly-casual-vs-registered-users-in-the-training-set"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb678"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># by hour: casual vs registered users</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">hour</span>, xlab<span class="op">=</span><span class="st">"hour"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">hour</span>, xlab<span class="op">=</span><span class="st">"hour"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-20-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Casual and Registered users have different distributions. Casual users tend to rent more during office hours.</p>
</blockquote>
</div>
<div id="outliers-in-the-training-set" class="section level3">
<h3>
<span class="header-section-number">29.4.4</span> outliers in the training set<a class="anchor" aria-label="anchor" href="#outliers-in-the-training-set"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb679"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">count</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">hour</span>, xlab<span class="op">=</span><span class="st">"hour"</span>, ylab<span class="op">=</span><span class="st">"count of users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/h2o/man/H2OFrame.html">log</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">count</span><span class="op">)</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">hour</span>,xlab<span class="op">=</span><span class="st">"hour"</span>,ylab<span class="op">=</span><span class="st">"log(count)"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-21-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="daily-trend" class="section level3">
<h3>
<span class="header-section-number">29.4.5</span> Daily trend<a class="anchor" aria-label="anchor" href="#daily-trend"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p><em>Registered users demand more bike on weekdays as compared to weekend or holiday.</em></p>
</blockquote>
<div class="sourceCode" id="cb680"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># extracting days of week</span>
<span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span>
<span class="va">days</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/weekday.POSIXt.html">weekdays</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">day</span> <span class="op">&lt;-</span> <span class="va">days</span></code></pre></div>
<div class="sourceCode" id="cb681"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># split the dataset again at day 20 of the month, before and after</span>
<span class="va">train</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">9</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">20</span>,<span class="op">]</span>
<span class="va">test</span>  <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">9</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">19</span>,<span class="op">]</span></code></pre></div>
</div>
<div id="boxplot-daily-trend-casual-vs-registered-users-training-set" class="section level3">
<h3>
<span class="header-section-number">29.4.6</span> Boxplot daily trend: casual vs registered users, training set<a class="anchor" aria-label="anchor" href="#boxplot-daily-trend-casual-vs-registered-users-training-set"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb682"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># creating boxplots for rentals with different variables to see the variation</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">day</span>, xlab<span class="op">=</span><span class="st">"day"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">day</span>, xlab<span class="op">=</span><span class="st">"day"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-24-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Demand of casual users increases during the weekend, contrary of registered users.</p>
</blockquote>
</div>
<div id="rain" class="section level3">
<h3>
<span class="header-section-number">29.4.7</span> Rain<a class="anchor" aria-label="anchor" href="#rain"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p><em>The demand of bikes will be lower on a rainy day as compared to a sunny day. Similarly, higher humidity will cause to lower the demand and vice versa.</em></p>
</blockquote>
<p>We use the variable weather (1 to 4) to analyze riding under rain conditions.</p>
<div id="boxplot-of-rain-effect-on-bike-riding-training-set" class="section level4">
<h4>
<span class="header-section-number">29.4.7.1</span> Boxplot of rain effect on bike riding, training set<a class="anchor" aria-label="anchor" href="#boxplot-of-rain-effect-on-bike-riding-training-set"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb683"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">weather</span>, xlab<span class="op">=</span><span class="st">"day"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">weather</span>, xlab<span class="op">=</span><span class="st">"day"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-25-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Registered used tend to ride even with rain.</p>
</blockquote>
</div>
</div>
<div id="temperature" class="section level3">
<h3>
<span class="header-section-number">29.4.8</span> Temperature<a class="anchor" aria-label="anchor" href="#temperature"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p><em>Would high or low temperature encourage or disencourage bike riding?</em></p>
</blockquote>
<div id="boxplot-of-temperature-effect-training-set" class="section level4">
<h4>
<span class="header-section-number">29.4.8.1</span> boxplot of temperature effect, training set<a class="anchor" aria-label="anchor" href="#boxplot-of-temperature-effect-training-set"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb684"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">temp</span>, xlab<span class="op">=</span><span class="st">"temp"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">temp</span>, xlab<span class="op">=</span><span class="st">"temp"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-26-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Casual users tend to ride with milder temperatures while registered users ride even at low temperatures.</p>
</blockquote>
</div>
</div>
<div id="correlation-2" class="section level3">
<h3>
<span class="header-section-number">29.4.9</span> Correlation<a class="anchor" aria-label="anchor" href="#correlation-2"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb685"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sub</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span>, <span class="va">train</span><span class="op">$</span><span class="va">casual</span>, <span class="va">train</span><span class="op">$</span><span class="va">count</span>, <span class="va">train</span><span class="op">$</span><span class="va">temp</span>,
                 <span class="va">train</span><span class="op">$</span><span class="va">humidity</span>, <span class="va">train</span><span class="op">$</span><span class="va">atemp</span>, <span class="va">train</span><span class="op">$</span><span class="va">windspeed</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/h2o/man/h2o.cor.html">cor</a></span><span class="op">(</span><span class="va">sub</span><span class="op">)</span>
<span class="co">#&gt;                  train.registered train.casual train.count train.temp</span>
<span class="co">#&gt; train.registered           1.0000       0.4972       0.971     0.3186</span>
<span class="co">#&gt; train.casual               0.4972       1.0000       0.690     0.4671</span>
<span class="co">#&gt; train.count                0.9709       0.6904       1.000     0.3945</span>
<span class="co">#&gt; train.temp                 0.3186       0.4671       0.394     1.0000</span>
<span class="co">#&gt; train.humidity            -0.2655      -0.3482      -0.317    -0.0649</span>
<span class="co">#&gt; train.atemp                0.3146       0.4621       0.390     0.9849</span>
<span class="co">#&gt; train.windspeed            0.0911       0.0923       0.101    -0.0179</span>
<span class="co">#&gt;                  train.humidity train.atemp train.windspeed</span>
<span class="co">#&gt; train.registered        -0.2655      0.3146          0.0911</span>
<span class="co">#&gt; train.casual            -0.3482      0.4621          0.0923</span>
<span class="co">#&gt; train.count             -0.3174      0.3898          0.1014</span>
<span class="co">#&gt; train.temp              -0.0649      0.9849         -0.0179</span>
<span class="co">#&gt; train.humidity           1.0000     -0.0435         -0.3186</span>
<span class="co">#&gt; train.atemp             -0.0435      1.0000         -0.0575</span>
<span class="co">#&gt; train.windspeed         -0.3186     -0.0575          1.0000</span></code></pre></div>
<div class="sourceCode" id="cb686"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># do not show the diagonal</span>
<span class="fu"><a href="https://rdrr.io/pkg/corrplot/man/corrplot.html">corrplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/h2o/man/h2o.cor.html">cor</a></span><span class="op">(</span><span class="va">sub</span><span class="op">)</span>, diag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-28-1.png" width="70%" style="display: block; margin: auto;"></div>
<ol style="list-style-type: decimal">
<li>correlation between <code>casual</code> and atemp, temp.</li>
<li>Strong correlation between temp and atemp.</li>
</ol>
</div>
<div id="activity-by-year" class="section level3">
<h3>
<span class="header-section-number">29.4.10</span> Activity by year<a class="anchor" aria-label="anchor" href="#activity-by-year"><i class="fas fa-link"></i></a>
</h3>
<div id="year-extraction" class="section level4">
<h4>
<span class="header-section-number">29.4.10.1</span> Year extraction<a class="anchor" aria-label="anchor" href="#year-extraction"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb687"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># extracting year</span>
<span class="va">data</span><span class="op">$</span><span class="va">year</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">year</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb688"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># ignore the division of data again and again, this could have been done together also</span>
<span class="va">train</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">9</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">20</span>,<span class="op">]</span>
<span class="va">test</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">9</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">19</span>,<span class="op">]</span></code></pre></div>
</div>
<div id="trend-by-year-training-set" class="section level4">
<h4>
<span class="header-section-number">29.4.10.2</span> Trend by year, training set<a class="anchor" aria-label="anchor" href="#trend-by-year-training-set"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb689"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="co"># again some boxplots with different variables</span>
<span class="co"># these boxplots give important information about the dependent variable with respect to the independent variables</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">year</span>, xlab<span class="op">=</span><span class="st">"year"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">year</span>, xlab<span class="op">=</span><span class="st">"year"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-31-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Activity increased in 2012.</p>
</blockquote>
</div>
<div id="trend-by-windspeed-training-set" class="section level4">
<h4>
<span class="header-section-number">29.4.10.3</span> trend by windspeed, training set<a class="anchor" aria-label="anchor" href="#trend-by-windspeed-training-set"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb690"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">windspeed</span>, xlab<span class="op">=</span><span class="st">"windspeed"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">windspeed</span>, xlab<span class="op">=</span><span class="st">"windspeed"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Casual users ride even with stron winds.</p>
</blockquote>
</div>
<div id="trend-by-humidity-training-set" class="section level4">
<h4>
<span class="header-section-number">29.4.10.4</span> trend by humidity, training set<a class="anchor" aria-label="anchor" href="#trend-by-humidity-training-set"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb691"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">humidity</span>, xlab<span class="op">=</span><span class="st">"humidity"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">humidity</span>, xlab<span class="op">=</span><span class="st">"humidity"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-33-1.png" width="70%" style="display: block; margin: auto;"></div>
<blockquote>
<p>Casual users prefer not to ride with humid weather.</p>
</blockquote>
</div>
</div>
</div>
<div id="feature-engineering-1" class="section level2">
<h2>
<span class="header-section-number">29.5</span> Feature Engineering<a class="anchor" aria-label="anchor" href="#feature-engineering-1"><i class="fas fa-link"></i></a>
</h2>
<div id="prepare-data-1" class="section level3">
<h3>
<span class="header-section-number">29.5.1</span> Prepare data<a class="anchor" aria-label="anchor" href="#prepare-data-1"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb692"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># factoring some variables from integer</span>
<span class="va">data</span><span class="op">$</span><span class="va">season</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">season</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">weather</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">weather</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">holiday</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">holiday</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">workingday</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">workingday</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb693"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># new column</span>
<span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb694"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># created this variable to divide a day into parts, but did not finally use it</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_part</span> <span class="op">&lt;-</span> <span class="fl">0</span></code></pre></div>
<div class="sourceCode" id="cb695"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># split in training and test sets again</span>
<span class="va">train</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">20</span>,<span class="op">]</span>
<span class="va">test</span>  <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">19</span>,<span class="op">]</span></code></pre></div>
<div class="sourceCode" id="cb696"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># combine the sets</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mice/man/cbind.html">rbind</a></span><span class="op">(</span><span class="va">train</span>, <span class="va">test</span><span class="op">)</span></code></pre></div>
</div>
<div id="build-hour-bins" class="section level3">
<h3>
<span class="header-section-number">29.5.2</span> Build hour bins<a class="anchor" aria-label="anchor" href="#build-hour-bins"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb697"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># for registered users</span>
<span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rpart/man/rpart.html">rpart</a></span><span class="op">(</span><span class="va">registered</span> <span class="op">~</span> <span class="va">hour</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/rattle/man/fancyRpartPlot.html">fancyRpartPlot</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/model-rpart-registered-hour-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb698"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># for casual users</span>
<span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rpart/man/rpart.html">rpart</a></span><span class="op">(</span><span class="va">casual</span> <span class="op">~</span> <span class="va">hour</span>, data <span class="op">=</span> <span class="va">train</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/rattle/man/fancyRpartPlot.html">fancyRpartPlot</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/model-rpart-casual-hour-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb699"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Assign the timings according to tree</span>
<span class="co"># fill the hour bins</span>
<span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mice/man/cbind.html">rbind</a></span><span class="op">(</span><span class="va">train</span>,<span class="va">test</span><span class="op">)</span>

<span class="co"># create hour buckets for registered users</span>
<span class="co"># 0,1,2,3,4,5,6,7 &lt; 7.5</span>
<span class="co"># 22,23,24 &gt;=22</span>
<span class="co"># 10,11,12,13,14,15,16,17: h&gt;=9.5 &amp; h&lt;18</span>
<span class="co"># h&lt;9.5 &amp; h&lt;8.5 : 8</span>
<span class="co"># h&lt;9.5 &amp; h&gt;=8.5 : 9</span>
<span class="co"># h&gt;=20: 20,21</span>
<span class="co"># h &lt; 20: 18,19</span>

<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&lt;</span> <span class="fl">8</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&gt;=</span> <span class="fl">22</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&gt;</span> <span class="fl">9</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&lt;</span> <span class="fl">18</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">8</span><span class="op">]</span> <span class="op">=</span> <span class="fl">4</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">9</span><span class="op">]</span> <span class="op">=</span> <span class="fl">5</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">20</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">21</span><span class="op">]</span> <span class="op">=</span> <span class="fl">6</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">19</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">18</span><span class="op">]</span> <span class="op">=</span> <span class="fl">7</span></code></pre></div>
<div class="sourceCode" id="cb700"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># casual users</span>
<span class="co"># h&lt;11, h&lt;8.5: 0,1,2,3,4,5,6,7,8</span>
<span class="co"># h&gt;=8.5 &amp; h&lt;11: 9, 10 </span>
<span class="co"># h &gt;=11 &amp; h&gt;=21: 21,22,23,24</span>
<span class="co"># h &gt;=11 &amp; h&lt;21: 11,12,13,14,15,16,17,18,19,20</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_cas</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&lt;</span> <span class="fl">11</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&gt;=</span> <span class="fl">8</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">9</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">==</span> <span class="fl">10</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&gt;=</span> <span class="fl">11</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&lt;</span> <span class="fl">21</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span>
<span class="va">data</span><span class="op">$</span><span class="va">dp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span> <span class="op">&gt;=</span> <span class="fl">21</span><span class="op">]</span> <span class="op">=</span> <span class="fl">4</span></code></pre></div>
</div>
<div id="temperature-bins" class="section level3">
<h3>
<span class="header-section-number">29.5.3</span> Temperature bins<a class="anchor" aria-label="anchor" href="#temperature-bins"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb701"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># partition the data by temperature, registered users</span>
<span class="va">f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/rpart/man/rpart.html">rpart</a></span><span class="op">(</span><span class="va">registered</span> <span class="op">~</span> <span class="va">temp</span>, data<span class="op">=</span><span class="va">train</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/rattle/man/fancyRpartPlot.html">fancyRpartPlot</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/model-rpart-temperature-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb702"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># partition the data by temperature,, casual users</span>
<span class="va">f</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/rpart/man/rpart.html">rpart</a></span><span class="op">(</span><span class="va">casual</span> <span class="op">~</span> <span class="va">temp</span>, data<span class="op">=</span><span class="va">train</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/rattle/man/fancyRpartPlot.html">fancyRpartPlot</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-41-1.png" width="70%" style="display: block; margin: auto;"></div>
<div id="assign-temperature-ranges-accoding-to-trees" class="section level4">
<h4>
<span class="header-section-number">29.5.3.1</span> Assign temperature ranges accoding to trees<a class="anchor" aria-label="anchor" href="#assign-temperature-ranges-accoding-to-trees"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb703"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">13</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&gt;=</span> <span class="fl">13</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">23</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&gt;=</span> <span class="fl">23</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">30</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&gt;=</span> <span class="fl">30</span><span class="op">]</span> <span class="op">=</span> <span class="fl">4</span></code></pre></div>
<div class="sourceCode" id="cb704"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">15</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&gt;=</span> <span class="fl">15</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">23</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&gt;=</span> <span class="fl">23</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&lt;</span> <span class="fl">30</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">temp</span> <span class="op">&gt;=</span> <span class="fl">30</span><span class="op">]</span> <span class="op">=</span> <span class="fl">4</span></code></pre></div>
</div>
</div>
<div id="year-bins-by-quarter" class="section level3">
<h3>
<span class="header-section-number">29.5.4</span> Year bins by quarter<a class="anchor" aria-label="anchor" href="#year-bins-by-quarter"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb705"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># add new variable with the month number</span>
<span class="va">data</span><span class="op">$</span><span class="va">month</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">month</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb706"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># bin by quarter manually</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2011'</span><span class="op">]</span>                <span class="op">=</span> <span class="fl">1</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2011'</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">&gt;</span><span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="fl">2</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2011'</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">&gt;</span><span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2011'</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">&gt;</span><span class="fl">9</span><span class="op">]</span> <span class="op">=</span> <span class="fl">4</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2012'</span><span class="op">]</span>                <span class="op">=</span> <span class="fl">5</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2012'</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">&gt;</span><span class="fl">3</span><span class="op">]</span> <span class="op">=</span> <span class="fl">6</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2012'</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">&gt;</span><span class="fl">6</span><span class="op">]</span> <span class="op">=</span> <span class="fl">7</span>
<span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">==</span><span class="st">'2012'</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">&gt;</span><span class="fl">9</span><span class="op">]</span> <span class="op">=</span> <span class="fl">8</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">year_part</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    1    2    3    4    5    6    7    8 </span>
<span class="co">#&gt; 2067 2183 2192 2203 2176 2182 2208 2168</span></code></pre></div>
</div>
<div id="day-type" class="section level3">
<h3>
<span class="header-section-number">29.5.5</span> Day Type<a class="anchor" aria-label="anchor" href="#day-type"><i class="fas fa-link"></i></a>
</h3>
<p>Created a variable having categories like “weekday”, “weekend” and “holiday”.</p>
<div class="sourceCode" id="cb707"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># creating another variable day_type which may affect our accuracy as weekends and weekdays are important in deciding rentals</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_type</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_type</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">holiday</span><span class="op">==</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">workingday</span><span class="op">==</span><span class="fl">0</span><span class="op">]</span> <span class="op">=</span> <span class="st">"weekend"</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_type</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">holiday</span><span class="op">==</span><span class="fl">1</span><span class="op">]</span>                      <span class="op">=</span> <span class="st">"holiday"</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_type</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">holiday</span><span class="op">==</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">workingday</span><span class="op">==</span><span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="st">"working day"</span></code></pre></div>
<div class="sourceCode" id="cb708"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># split dataset again</span>
<span class="va">train</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">9</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">20</span>,<span class="op">]</span>
<span class="va">test</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>,<span class="fl">9</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">19</span>,<span class="op">]</span></code></pre></div>
<div class="sourceCode" id="cb709"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">dp_cas</span>, xlab <span class="op">=</span> <span class="st">"day partition"</span>, ylab<span class="op">=</span><span class="st">"casual users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">dp_reg</span>, xlab <span class="op">=</span> <span class="st">"day partition"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-48-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb710"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">day_type</span>, xlab <span class="op">=</span> <span class="st">"day type"</span>, 
        ylab<span class="op">=</span><span class="st">"casual users"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">900</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">day_type</span>, xlab <span class="op">=</span> <span class="st">"day type"</span>, 
        ylab<span class="op">=</span><span class="st">"registered users"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">900</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-49-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb711"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">year_part</span>, xlab <span class="op">=</span> <span class="st">"year partition, quarter"</span>, 
        ylab<span class="op">=</span><span class="st">"casual users"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">900</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">year_part</span>, xlab <span class="op">=</span> <span class="st">"year partition, quarter"</span>, 
        ylab<span class="op">=</span><span class="st">"registered users"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">900</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-50-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="temperatures" class="section level3">
<h3>
<span class="header-section-number">29.5.6</span> Temperatures<a class="anchor" aria-label="anchor" href="#temperatures"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb712"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">temp</span>, xlab <span class="op">=</span> <span class="st">"temperature"</span>, 
        ylab<span class="op">=</span><span class="st">"casual users"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">900</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">temp</span>, xlab <span class="op">=</span> <span class="st">"temperature"</span>, 
        ylab<span class="op">=</span><span class="st">"registered users"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">900</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-51-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb713"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">temp</span>, <span class="va">train</span><span class="op">$</span><span class="va">count</span><span class="op">)</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mice/man/cbind.html">rbind</a></span><span class="op">(</span><span class="va">train</span>, <span class="va">test</span><span class="op">)</span>
<span class="co"># data$month &lt;- substr(data$datetime, 6, 7)</span>
<span class="co"># data$month &lt;- as.integer(data$month)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-52-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="imputting-missing-data-to-wind-speed" class="section level3">
<h3>
<span class="header-section-number">29.5.7</span> Imputting missing data to wind speed<a class="anchor" aria-label="anchor" href="#imputting-missing-data-to-wind-speed"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb714"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># dividing total data depending on windspeed to impute/predict the missing values</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">windspeed</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; FALSE  TRUE </span>
<span class="co">#&gt; 15199  2180</span>
    <span class="co"># FALSE  TRUE </span>
    <span class="co"># 15199  2180 </span>

<span class="va">k</span> <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">windspeed</span> <span class="op">==</span> <span class="fl">0</span>

<span class="va">wind_0</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/subset.data.table.html">subset</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">k</span><span class="op">)</span>    <span class="co"># windspeed is zero</span>
<span class="va">wind_1</span> <span class="op">=</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/subset.data.table.html">subset</a></span><span class="op">(</span><span class="va">data</span>, <span class="op">!</span><span class="va">k</span><span class="op">)</span>   <span class="co"># windspeed not zero</span></code></pre></div>
<div class="sourceCode" id="cb715"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/tictoc/man/tic.html">tic</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># predicting missing values in windspeed using a random forest model</span>
<span class="co"># this is a different approach to impute missing values rather than </span>
<span class="co"># just using the mean or median or some other statistic for imputation</span>

<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">415</span><span class="op">)</span>
<span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/randomForest/man/randomForest.html">randomForest</a></span><span class="op">(</span><span class="va">windspeed</span> <span class="op">~</span> <span class="va">season</span> <span class="op">+</span> <span class="va">weather</span> <span class="op">+</span> <span class="va">humidity</span> <span class="op">+</span> <span class="va">month</span> <span class="op">+</span> <span class="va">temp</span> <span class="op">+</span> 
                        <span class="va">year</span> <span class="op">+</span> <span class="va">atemp</span>, 
                    data <span class="op">=</span> <span class="va">wind_1</span>, 
                    importance <span class="op">=</span> <span class="cn">TRUE</span>, 
                    ntree <span class="op">=</span> <span class="fl">250</span><span class="op">)</span>

<span class="va">pred</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">fit</span>, <span class="va">wind_0</span><span class="op">)</span>
<span class="va">wind_0</span><span class="op">$</span><span class="va">windspeed</span> <span class="op">=</span> <span class="va">pred</span>       <span class="co"># fill with wind speed predictions</span>
<span class="fu"><a href="https://rdrr.io/pkg/tictoc/man/tic.html">toc</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; 50.787 sec elapsed</span></code></pre></div>
<div class="sourceCode" id="cb716"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># recompose the whole dataset</span>
<span class="va">data</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mice/man/cbind.html">rbind</a></span><span class="op">(</span><span class="va">wind_0</span>, <span class="va">wind_1</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb717"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># how many zero values now?</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">windspeed</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
</div>
<div id="weekend-variable" class="section level3">
<h3>
<span class="header-section-number">29.5.8</span> Weekend variable<a class="anchor" aria-label="anchor" href="#weekend-variable"><i class="fas fa-link"></i></a>
</h3>
<p>Created a separate variable for weekend (0/1)</p>
<div class="sourceCode" id="cb718"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span><span class="op">$</span><span class="va">weekend</span> <span class="op">=</span> <span class="fl">0</span>
<span class="va">data</span><span class="op">$</span><span class="va">weekend</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">day</span><span class="op">==</span><span class="st">"Sunday"</span> <span class="op">|</span> <span class="va">data</span><span class="op">$</span><span class="va">day</span><span class="op">==</span><span class="st">"Saturday"</span> <span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></code></pre></div>
</div>
</div>
<div id="model-building" class="section level2">
<h2>
<span class="header-section-number">29.6</span> Model Building<a class="anchor" aria-label="anchor" href="#model-building"><i class="fas fa-link"></i></a>
</h2>
<p>As this was our first attempt, we applied decision tree, conditional inference tree and random forest algorithms and found that random forest is performing the best. You can also go with regression, boosted regression, neural network and find which one is working well for you.</p>
<p>Before executing the random forest model code, I have followed following steps:</p>
<p>Convert discrete variables into factor (weather, season, hour, holiday, working day, month, day)</p>
<div class="sourceCode" id="cb719"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    17379 obs. of  24 variables:</span>
<span class="co">#&gt;  $ datetime  : Factor w/ 17379 levels "2011-01-01 00:00:00",..: 1 2 3 4 5 7 8 9 10 65 ...</span>
<span class="co">#&gt;  $ season    : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ holiday   : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ workingday: Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 2 ...</span>
<span class="co">#&gt;  $ weather   : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ temp      : num  9.84 9.02 9.02 9.84 9.84 ...</span>
<span class="co">#&gt;  $ atemp     : num  14.4 13.6 13.6 14.4 14.4 ...</span>
<span class="co">#&gt;  $ humidity  : num  81 80 80 75 75 80 86 75 76 47 ...</span>
<span class="co">#&gt;  $ windspeed : num  9.03 9.05 9.05 9.15 9.15 ...</span>
<span class="co">#&gt;  $ casual    : num  3 8 5 3 0 2 1 1 8 8 ...</span>
<span class="co">#&gt;  $ registered: num  13 32 27 10 1 0 2 7 6 102 ...</span>
<span class="co">#&gt;  $ count     : num  16 40 32 13 1 2 3 8 14 110 ...</span>
<span class="co">#&gt;  $ hour      : int  1 2 3 4 5 7 8 9 10 20 ...</span>
<span class="co">#&gt;  $ day       : chr  "Saturday" "Saturday" "Saturday" "Saturday" ...</span>
<span class="co">#&gt;  $ year      : Factor w/ 2 levels "2011","2012": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ day_part  : num  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;  $ dp_reg    : num  1 1 1 1 1 1 4 5 3 6 ...</span>
<span class="co">#&gt;  $ dp_cas    : num  0 0 0 0 0 0 1 2 2 3 ...</span>
<span class="co">#&gt;  $ temp_reg  : num  1 1 1 1 1 1 1 1 2 1 ...</span>
<span class="co">#&gt;  $ temp_cas  : num  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ month     : int  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ year_part : num  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ day_type  : chr  "weekend" "weekend" "weekend" "weekend" ...</span>
<span class="co">#&gt;  $ weekend   : num  1 1 1 1 1 1 1 1 1 0 ...</span></code></pre></div>
<div id="convert-variables-to-factors" class="section level3">
<h3>
<span class="header-section-number">29.6.1</span> Convert variables to factors<a class="anchor" aria-label="anchor" href="#convert-variables-to-factors"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb720"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># converting all relevant categorical variables into factors to feed to our random forest model</span>
<span class="va">data</span><span class="op">$</span><span class="va">season</span>     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">season</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">holiday</span>    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">holiday</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">workingday</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">workingday</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">weather</span>    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">weather</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">hour</span>       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">hour</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">month</span>      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">month</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_part</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">dp_cas</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">day_type</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">dp_reg</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">day</span>        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">day</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">temp_cas</span><span class="op">)</span>
<span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span>   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/as.factor.html">as.factor</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">temp_reg</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb721"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    17379 obs. of  24 variables:</span>
<span class="co">#&gt;  $ datetime  : Factor w/ 17379 levels "2011-01-01 00:00:00",..: 1 2 3 4 5 7 8 9 10 65 ...</span>
<span class="co">#&gt;  $ season    : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ holiday   : Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ workingday: Factor w/ 2 levels "0","1": 1 1 1 1 1 1 1 1 1 2 ...</span>
<span class="co">#&gt;  $ weather   : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ temp      : num  9.84 9.02 9.02 9.84 9.84 ...</span>
<span class="co">#&gt;  $ atemp     : num  14.4 13.6 13.6 14.4 14.4 ...</span>
<span class="co">#&gt;  $ humidity  : num  81 80 80 75 75 80 86 75 76 47 ...</span>
<span class="co">#&gt;  $ windspeed : num  9.03 9.05 9.05 9.15 9.15 ...</span>
<span class="co">#&gt;  $ casual    : num  3 8 5 3 0 2 1 1 8 8 ...</span>
<span class="co">#&gt;  $ registered: num  13 32 27 10 1 0 2 7 6 102 ...</span>
<span class="co">#&gt;  $ count     : num  16 40 32 13 1 2 3 8 14 110 ...</span>
<span class="co">#&gt;  $ hour      : Factor w/ 24 levels "1","2","3","4",..: 1 2 3 4 5 7 8 9 10 20 ...</span>
<span class="co">#&gt;  $ day       : Factor w/ 7 levels "Friday","Monday",..: 3 3 3 3 3 3 3 3 3 2 ...</span>
<span class="co">#&gt;  $ year      : Factor w/ 2 levels "2011","2012": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ day_part  : Factor w/ 5 levels "0","1","2","3",..: 1 1 1 1 1 1 2 3 3 4 ...</span>
<span class="co">#&gt;  $ dp_reg    : num  1 1 1 1 1 1 4 5 3 6 ...</span>
<span class="co">#&gt;  $ dp_cas    : num  0 0 0 0 0 0 1 2 2 3 ...</span>
<span class="co">#&gt;  $ temp_reg  : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 1 2 1 ...</span>
<span class="co">#&gt;  $ temp_cas  : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ month     : Factor w/ 12 levels "1","2","3","4",..: 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ year_part : num  1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ day_type  : Factor w/ 7 levels "1","2","3","4",..: 1 1 1 1 1 1 4 5 3 6 ...</span>
<span class="co">#&gt;  $ weekend   : num  1 1 1 1 1 1 1 1 1 0 ...</span></code></pre></div>
<ul>
<li><p>As we know that dependent variables have natural outliers so we will predict log of dependent variables.</p></li>
<li><p>Predict bike demand registered and casual users separately.
<span class="math inline">\(y1 = \log(casual+1)\)</span> and <span class="math inline">\(y2 = \log(registered+1)\)</span>, Here we have added 1 to deal with zero values in the casual and registered columns.</p></li>
</ul>
<div class="sourceCode" id="cb722"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># separate again as train and test set</span>
<span class="va">train</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">20</span>,<span class="op">]</span>
<span class="va">test</span> <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">datetime</span>, <span class="fl">9</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">19</span>,<span class="op">]</span></code></pre></div>
</div>
<div id="log-transform" class="section level3">
<h3>
<span class="header-section-number">29.6.2</span> Log transform<a class="anchor" aria-label="anchor" href="#log-transform"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb723"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># log transformation for some skewed variables, </span>
<span class="co"># which can be seen from their distribution</span>
<span class="va">train</span><span class="op">$</span><span class="va">reg1</span>   <span class="op">=</span> <span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">+</span> <span class="fl">1</span>
<span class="va">train</span><span class="op">$</span><span class="va">cas1</span>   <span class="op">=</span> <span class="va">train</span><span class="op">$</span><span class="va">casual</span> <span class="op">+</span> <span class="fl">1</span>
<span class="va">train</span><span class="op">$</span><span class="va">logcas</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/H2OFrame.html">log</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">cas1</span><span class="op">)</span>
<span class="va">train</span><span class="op">$</span><span class="va">logreg</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/h2o/man/H2OFrame.html">log</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">reg1</span><span class="op">)</span>
<span class="va">test</span><span class="op">$</span><span class="va">logreg</span>  <span class="op">=</span> <span class="fl">0</span>
<span class="va">test</span><span class="op">$</span><span class="va">logcas</span>  <span class="op">=</span> <span class="fl">0</span></code></pre></div>
<div id="plot-by-weather-by-season" class="section level4">
<h4>
<span class="header-section-number">29.6.2.1</span> Plot by weather, by season<a class="anchor" aria-label="anchor" href="#plot-by-weather-by-season"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb724"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># cartesian plot</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">weather</span>, xlab<span class="op">=</span><span class="st">"weather"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">registered</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">season</span>, xlab<span class="op">=</span><span class="st">"season"</span>, ylab<span class="op">=</span><span class="st">"registered users"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-62-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb725"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># semilog plot</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">logreg</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">weather</span>, xlab <span class="op">=</span> <span class="st">"weather"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot</a></span><span class="op">(</span><span class="va">train</span><span class="op">$</span><span class="va">logreg</span> <span class="op">~</span> <span class="va">train</span><span class="op">$</span><span class="va">season</span>, xlab <span class="op">=</span> <span class="st">"season"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="305-classification_227-bike_sharing_demand-rf_files/figure-html/unnamed-chunk-63-1.png" width="70%" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="predicting-for-registered-and-casual-users-test-dataset" class="section level3">
<h3>
<span class="header-section-number">29.6.3</span> Predicting for registered and casual users, test dataset<a class="anchor" aria-label="anchor" href="#predicting-for-registered-and-casual-users-test-dataset"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb726"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/tictoc/man/tic.html">tic</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># final model building using random forest</span>
<span class="co"># note that we build different models for predicting for </span>
<span class="co"># registered and casual users</span>
<span class="co"># this was seen as giving best result after a lot of experimentation</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">415</span><span class="op">)</span>
<span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/randomForest/man/randomForest.html">randomForest</a></span><span class="op">(</span><span class="va">logreg</span> <span class="op">~</span> <span class="va">hour</span> <span class="op">+</span> <span class="va">workingday</span> <span class="op">+</span> <span class="va">day</span> <span class="op">+</span> <span class="va">holiday</span> <span class="op">+</span> <span class="va">day_type</span> <span class="op">+</span>
                         <span class="va">temp_reg</span> <span class="op">+</span> <span class="va">humidity</span> <span class="op">+</span> <span class="va">atemp</span> <span class="op">+</span> <span class="va">windspeed</span> <span class="op">+</span> <span class="va">season</span> <span class="op">+</span> 
                         <span class="va">weather</span> <span class="op">+</span> <span class="va">dp_reg</span> <span class="op">+</span> <span class="va">weekend</span> <span class="op">+</span> <span class="va">year</span> <span class="op">+</span> <span class="va">year_part</span>, 
                     data <span class="op">=</span> <span class="va">train</span>, 
                     importance <span class="op">=</span> <span class="cn">TRUE</span>, 
                     ntree <span class="op">=</span> <span class="fl">250</span><span class="op">)</span>

<span class="va">pred1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">fit1</span>, <span class="va">test</span><span class="op">)</span>
<span class="va">test</span><span class="op">$</span><span class="va">logreg</span> <span class="op">=</span> <span class="va">pred1</span>
<span class="fu"><a href="https://rdrr.io/pkg/tictoc/man/tic.html">toc</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; 113.34 sec elapsed</span></code></pre></div>
<div class="sourceCode" id="cb727"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># casual users</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">415</span><span class="op">)</span>
<span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/randomForest/man/randomForest.html">randomForest</a></span><span class="op">(</span><span class="va">logcas</span> <span class="op">~</span> <span class="va">hour</span> <span class="op">+</span> <span class="va">day_type</span> <span class="op">+</span> <span class="va">day</span> <span class="op">+</span> <span class="va">humidity</span> <span class="op">+</span> <span class="va">atemp</span> <span class="op">+</span> 
                         <span class="va">temp_cas</span> <span class="op">+</span> <span class="va">windspeed</span> <span class="op">+</span> <span class="va">season</span> <span class="op">+</span> <span class="va">weather</span> <span class="op">+</span> <span class="va">holiday</span> <span class="op">+</span>
                         <span class="va">workingday</span> <span class="op">+</span> <span class="va">dp_cas</span> <span class="op">+</span> <span class="va">weekend</span> <span class="op">+</span> <span class="va">year</span> <span class="op">+</span> <span class="va">year_part</span>, 
                     data <span class="op">=</span> <span class="va">train</span>, importance <span class="op">=</span> <span class="cn">TRUE</span>, ntree <span class="op">=</span> <span class="fl">250</span><span class="op">)</span>

<span class="va">pred2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">fit2</span>, <span class="va">test</span><span class="op">)</span>
<span class="va">test</span><span class="op">$</span><span class="va">logcas</span> <span class="op">=</span> <span class="va">pred2</span></code></pre></div>
</div>
<div id="preparing-and-exporting-results" class="section level3">
<h3>
<span class="header-section-number">29.6.4</span> Preparing and exporting results<a class="anchor" aria-label="anchor" href="#preparing-and-exporting-results"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb728"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># creating the final submission file</span>
<span class="co"># reverse log conversion</span>
<span class="va">test</span><span class="op">$</span><span class="va">registered</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">logreg</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>
<span class="va">test</span><span class="op">$</span><span class="va">casual</span>     <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">test</span><span class="op">$</span><span class="va">logcas</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>
<span class="va">test</span><span class="op">$</span><span class="va">count</span>      <span class="op">&lt;-</span> <span class="va">test</span><span class="op">$</span><span class="va">casual</span> <span class="op">+</span> <span class="va">test</span><span class="op">$</span><span class="va">registered</span>

<span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>datetime <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">datetime</span>, 
                casual <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">casual</span>, 
                registered <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">registered</span><span class="op">)</span>

<span class="fu"><a href="https://docs.ropensci.org/skimr/reference/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">casual</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 205804</span>
<span class="fu"><a href="https://docs.ropensci.org/skimr/reference/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">r</span><span class="op">$</span><span class="va">registered</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] 962834</span>

<span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>datetime <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">datetime</span>, count <span class="op">=</span> <span class="va">test</span><span class="op">$</span><span class="va">count</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">s</span>, file <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">data_out_dir</span>, <span class="st">"bike-submit.csv"</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># sum(cas+reg) = 1168638</span>
<span class="co"># month number now is correct</span></code></pre></div>
<p>After following the steps mentioned above, you can score 0.38675 on Kaggle leaderboard i.e. top 5 percentile of total participants. As you might have seen, we have not applied any extraordinary science in getting to this level. But, the real competition starts here. I would like to see, if I can improve this further by use of more features and some more advanced modeling techniques.</p>
</div>
</div>
<div id="end-notes" class="section level2">
<h2>
<span class="header-section-number">29.7</span> End Notes<a class="anchor" aria-label="anchor" href="#end-notes"><i class="fas fa-link"></i></a>
</h2>
<p>In this article, we have looked at structured approach of problem solving and how this method can help you to improve performance. I would recommend you to generate hypothesis before you deep dive in the data set as this technique will not limit your thought process. You can improve your performance by applying advanced techniques (or ensemble methods) and understand your data trend better.</p>
<p>You can find the complete solution here : <a href="https://github.com/adityashrm21/Kaggle/blob/master/Bike_Sharing_Demand.R">GitHub Link</a></p>
<div class="sourceCode" id="cb729"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># this is the older submission. months were incomplete</span>
<span class="va">old</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">data_raw_dir</span>, <span class="st">"bike-submit-old.csv"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">old</span><span class="op">$</span><span class="va">count</span><span class="op">)</span>
<span class="co">#&gt; [1] 1164829</span></code></pre></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="predicting-flu-outcome-comparing-eight-classification-algorithms.html"><span class="header-section-number">28</span> Predicting Flu outcome comparing eight classification algorithms</a></div>
<div class="next"><a href="prediction-of-arrhythmia-with-deep-neural-nets.html"><span class="header-section-number">30</span> Prediction of arrhythmia with deep neural nets</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#a-detailed-study-of-bike-sharing-demand"><span class="header-section-number">29</span> A detailed study of bike sharing demand</a></li>
<li><a class="nav-link" href="#hypothesis-generation"><span class="header-section-number">29.1</span> Hypothesis Generation</a></li>
<li>
<a class="nav-link" href="#understanding-the-data-set"><span class="header-section-number">29.2</span> Understanding the Data Set</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#independent-variables"><span class="header-section-number">29.2.1</span> Independent variables</a></li>
<li><a class="nav-link" href="#dependent-variables"><span class="header-section-number">29.2.2</span> Dependent variables</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#importing-the-dataset-and-data-exploration"><span class="header-section-number">29.3</span> Importing the dataset and Data Exploration</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#histograms"><span class="header-section-number">29.3.1</span> histograms</a></li>
<li><a class="nav-link" href="#density-plots"><span class="header-section-number">29.3.2</span> density plots</a></li>
<li><a class="nav-link" href="#boxplots"><span class="header-section-number">29.3.3</span> boxplots</a></li>
<li><a class="nav-link" href="#unique-values-of-discrete-variables"><span class="header-section-number">29.3.4</span> Unique values of discrete variables</a></li>
<li><a class="nav-link" href="#inferences"><span class="header-section-number">29.3.5</span> Inferences</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#hypothesis-testing-using-multivariate-analysis"><span class="header-section-number">29.4</span> Hypothesis Testing (using multivariate analysis)</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#hourly-trend"><span class="header-section-number">29.4.1</span> Hourly trend</a></li>
<li><a class="nav-link" href="#boxplot-count-vs-hour-in-training-set"><span class="header-section-number">29.4.2</span> boxplot count vs hour in training set</a></li>
<li><a class="nav-link" href="#boxplot-hourly-casual-vs-registered-users-in-the-training-set"><span class="header-section-number">29.4.3</span> Boxplot hourly: casual vs registered users in the training set</a></li>
<li><a class="nav-link" href="#outliers-in-the-training-set"><span class="header-section-number">29.4.4</span> outliers in the training set</a></li>
<li><a class="nav-link" href="#daily-trend"><span class="header-section-number">29.4.5</span> Daily trend</a></li>
<li><a class="nav-link" href="#boxplot-daily-trend-casual-vs-registered-users-training-set"><span class="header-section-number">29.4.6</span> Boxplot daily trend: casual vs registered users, training set</a></li>
<li><a class="nav-link" href="#rain"><span class="header-section-number">29.4.7</span> Rain</a></li>
<li><a class="nav-link" href="#temperature"><span class="header-section-number">29.4.8</span> Temperature</a></li>
<li><a class="nav-link" href="#correlation-2"><span class="header-section-number">29.4.9</span> Correlation</a></li>
<li><a class="nav-link" href="#activity-by-year"><span class="header-section-number">29.4.10</span> Activity by year</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#feature-engineering-1"><span class="header-section-number">29.5</span> Feature Engineering</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#prepare-data-1"><span class="header-section-number">29.5.1</span> Prepare data</a></li>
<li><a class="nav-link" href="#build-hour-bins"><span class="header-section-number">29.5.2</span> Build hour bins</a></li>
<li><a class="nav-link" href="#temperature-bins"><span class="header-section-number">29.5.3</span> Temperature bins</a></li>
<li><a class="nav-link" href="#year-bins-by-quarter"><span class="header-section-number">29.5.4</span> Year bins by quarter</a></li>
<li><a class="nav-link" href="#day-type"><span class="header-section-number">29.5.5</span> Day Type</a></li>
<li><a class="nav-link" href="#temperatures"><span class="header-section-number">29.5.6</span> Temperatures</a></li>
<li><a class="nav-link" href="#imputting-missing-data-to-wind-speed"><span class="header-section-number">29.5.7</span> Imputting missing data to wind speed</a></li>
<li><a class="nav-link" href="#weekend-variable"><span class="header-section-number">29.5.8</span> Weekend variable</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#model-building"><span class="header-section-number">29.6</span> Model Building</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#convert-variables-to-factors"><span class="header-section-number">29.6.1</span> Convert variables to factors</a></li>
<li><a class="nav-link" href="#log-transform"><span class="header-section-number">29.6.2</span> Log transform</a></li>
<li><a class="nav-link" href="#predicting-for-registered-and-casual-users-test-dataset"><span class="header-section-number">29.6.3</span> Predicting for registered and casual users, test dataset</a></li>
<li><a class="nav-link" href="#preparing-and-exporting-results"><span class="header-section-number">29.6.4</span> Preparing and exporting results</a></li>
</ul>
</li>
<li><a class="nav-link" href="#end-notes"><span class="header-section-number">29.7</span> End Notes</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/f0nzie/machine_learning_compilation/blob/master/305-classification_227-bike_sharing_demand-rf.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/f0nzie/machine_learning_compilation/edit/master/305-classification_227-bike_sharing_demand-rf.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>A Machine Learning Compilation</strong>" was written by Several authors. Compiled by Alfonso R. Reyes. It was last built on 2020-11-19.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
